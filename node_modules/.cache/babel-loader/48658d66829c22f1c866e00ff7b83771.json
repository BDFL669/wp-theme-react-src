{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admi\\\\Documents\\\\Xampp\\\\htdocs\\\\wordpress\\\\wp-content\\\\themes\\\\bare-bones\\\\react-src\\\\src\\\\context\\\\Context.js\";\nimport React from \"react\";\nimport Axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nconst storeContext = React.createContext();\nexport const Consumer = storeContext.Consumer;\nconst params = useParams();\nexport class Provider extends React.Component {\n  constructor(props) {\n    super(props);\n    let restType = this.getRestType(params.path);\n    let route = props.router.match.path;\n    let slug = props.router.match.params.slug ? props.router.match.params.slug : '';\n    this.state = {\n      slug: slug,\n      restType: restType,\n      route: route,\n      posts: []\n    };\n  }\n  componentDidMount() {\n    this.getPosts(this.buildUrl());\n  }\n  componentDidUpdate(prevProps) {\n    //more code here later...\n  }\n  buildUrl() {\n    let url = '/wp-json/wp/v2/';\n    switch (this.state.restType) {\n      case 'page':\n        url += 'pages/?slug=' + this.state.slug;\n        break;\n      case 'post':\n      default:\n        url += 'posts/?slug=' + this.state.slug;\n        break;\n    }\n    return url;\n  }\n  getPosts(url) {\n    let self = this;\n    Axios.get(url).then(response => {\n      self.setState({\n        posts: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n      self.appError = 'An unexpected error occurred';\n    });\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(storeContext.Provider, {\n      value: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, this.props.children);\n  }\n}","map":{"version":3,"names":["React","Axios","useParams","storeContext","createContext","Consumer","params","Provider","Component","constructor","props","restType","getRestType","path","route","router","match","slug","state","posts","componentDidMount","getPosts","buildUrl","componentDidUpdate","prevProps","url","self","get","then","response","setState","data","catch","error","console","log","appError","render","createElement","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","children"],"sources":["C:/Users/admi/Documents/Xampp/htdocs/wordpress/wp-content/themes/bare-bones/react-src/src/context/Context.js"],"sourcesContent":["import React from \"react\";\r\nimport Axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\nconst storeContext = React.createContext();\r\nexport const Consumer = storeContext.Consumer;\r\nconst params = useParams();\r\nexport class Provider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let restType = this.getRestType(params.path);\r\n    let route = props.router.match.path;\r\n    let slug = props.router.match.params.slug ? props.router.match.params.slug : '';\r\n    this.state = {\r\n      slug : slug,\r\n      restType : restType,\r\n      route : route,\r\n      posts : []\r\n    };\r\n  }\r\ncomponentDidMount(){\r\n    this.getPosts(this.buildUrl());\r\n}\r\n componentDidUpdate(prevProps){\r\n    //more code here later...\r\n }\r\n buildUrl(){\r\n  let url = '/wp-json/wp/v2/';\r\n  switch(this.state.restType){\r\n    case 'page':\r\n      url += 'pages/?slug=' + this.state.slug\r\n    break;\r\n    case 'post':\r\n    default:\r\n      url += 'posts/?slug=' + this.state.slug ;\r\n      break;\r\n  }\r\n  return url;\r\n}\r\ngetPosts(url) {\r\n  let self = this;\r\n  Axios.get(url).then((response) => {\r\n    self.setState({\r\n      posts: response.data\r\n    });\r\n  }).catch(function (error) {\r\n    console.log(error);\r\n    self.appError = 'An unexpected error occurred';\r\n  });\r\n}\r\nrender() {\r\n    return (\r\n      <storeContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </storeContext.Provider>\r\n    );\r\n  }\r\n} "],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,MAAMC,YAAY,GAAGH,KAAK,CAACI,aAAa,CAAC,CAAC;AAC1C,OAAO,MAAMC,QAAQ,GAAGF,YAAY,CAACE,QAAQ;AAC7C,MAAMC,MAAM,GAAGJ,SAAS,CAAC,CAAC;AAC1B,OAAO,MAAMK,QAAQ,SAASP,KAAK,CAACQ,SAAS,CAAC;EAC5CC,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAIC,QAAQ,GAAG,IAAI,CAACC,WAAW,CAACN,MAAM,CAACO,IAAI,CAAC;IAC5C,IAAIC,KAAK,GAAGJ,KAAK,CAACK,MAAM,CAACC,KAAK,CAACH,IAAI;IACnC,IAAII,IAAI,GAAGP,KAAK,CAACK,MAAM,CAACC,KAAK,CAACV,MAAM,CAACW,IAAI,GAAGP,KAAK,CAACK,MAAM,CAACC,KAAK,CAACV,MAAM,CAACW,IAAI,GAAG,EAAE;IAC/E,IAAI,CAACC,KAAK,GAAG;MACXD,IAAI,EAAGA,IAAI;MACXN,QAAQ,EAAGA,QAAQ;MACnBG,KAAK,EAAGA,KAAK;MACbK,KAAK,EAAG;IACV,CAAC;EACH;EACFC,iBAAiBA,CAAA,EAAE;IACf,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC;EAClC;EACCC,kBAAkBA,CAACC,SAAS,EAAC;IAC1B;EAAA;EAEHF,QAAQA,CAAA,EAAE;IACT,IAAIG,GAAG,GAAG,iBAAiB;IAC3B,QAAO,IAAI,CAACP,KAAK,CAACP,QAAQ;MACxB,KAAK,MAAM;QACTc,GAAG,IAAI,cAAc,GAAG,IAAI,CAACP,KAAK,CAACD,IAAI;QACzC;MACA,KAAK,MAAM;MACX;QACEQ,GAAG,IAAI,cAAc,GAAG,IAAI,CAACP,KAAK,CAACD,IAAI;QACvC;IACJ;IACA,OAAOQ,GAAG;EACZ;EACAJ,QAAQA,CAACI,GAAG,EAAE;IACZ,IAAIC,IAAI,GAAG,IAAI;IACfzB,KAAK,CAAC0B,GAAG,CAACF,GAAG,CAAC,CAACG,IAAI,CAAEC,QAAQ,IAAK;MAChCH,IAAI,CAACI,QAAQ,CAAC;QACZX,KAAK,EAAEU,QAAQ,CAACE;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC,CAACC,KAAK,CAAC,UAAUC,KAAK,EAAE;MACxBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBP,IAAI,CAACU,QAAQ,GAAG,8BAA8B;IAChD,CAAC,CAAC;EACJ;EACAC,MAAMA,CAAA,EAAG;IACL,oBACErC,KAAA,CAAAsC,aAAA,CAACnC,YAAY,CAACI,QAAQ;MAACgC,KAAK,EAAE,IAAI,CAACrB,KAAM;MAAAsB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACtC,IAAI,CAACnC,KAAK,CAACoC,QACS,CAAC;EAE5B;AACF"},"metadata":{},"sourceType":"module"}