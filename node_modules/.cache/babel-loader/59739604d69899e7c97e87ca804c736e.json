{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admi\\\\Documents\\\\Xampp\\\\htdocs\\\\wordpress\\\\wp-content\\\\themes\\\\bare-bones\\\\react-src\\\\src\\\\templates\\\\SinglePost.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport WithConsumer from \"../context/WithConsumer\";\nimport axios from \"axios\";\nimport Loader from \"../partials/Loader\";\nimport Moment from \"react-moment\";\nconst SinglePost = _ref => {\n  let {\n    index,\n    context\n  } = _ref;\n  const {\n    slug\n  } = useParams();\n  const [post, setPost] = useState(null);\n  const [authorName, setAuthorName] = useState('');\n  const [authorID, setAuthorID] = useState(''); // Move authorID declaration here\n\n  useEffect(() => {\n    const fetchPostBySlug = async () => {\n      try {\n        const response = await axios.get(`http://localhost/wordpress/wp-json/wp/v2/posts?slug=${slug}`);\n        const data = response.data;\n        if (Array.isArray(data) && data.length > 0) {\n          setPost(data[0]);\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const fetchAuthorByID = async () => {\n      try {\n        const response = await axios.get(`http://localhost/wordpress/wp-json/wp/v2/users?user=${authorID}`);\n        const data = response.data;\n        if (Array.isArray(data) && data.length > 0) {\n          setAuthorName(data[0].name); // Update to access the author's name property\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchAuthorByID();\n    fetchPostBySlug();\n  }, [slug, authorID]);\n  if (!post) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 12\n      }\n    });\n  }\n  const {\n    title,\n    content,\n    date,\n    author\n  } = post;\n  const theContent = content.rendered;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, title.rendered), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-meta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Published: \", /*#__PURE__*/React.createElement(Moment, {\n    format: \"MM/DD/YYYY\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 20\n    }\n  }, date), \", Written by \", authorName), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-content\",\n    dangerouslySetInnerHTML: {\n      __html: theContent\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }));\n};\nexport default WithConsumer(SinglePost);","map":{"version":3,"names":["React","useEffect","useState","useParams","WithConsumer","axios","Loader","Moment","SinglePost","_ref","index","context","slug","post","setPost","authorName","setAuthorName","authorID","setAuthorID","fetchPostBySlug","response","get","data","Array","isArray","length","error","console","fetchAuthorByID","name","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","content","date","author","theContent","rendered","className","format","dangerouslySetInnerHTML","__html"],"sources":["C:/Users/admi/Documents/Xampp/htdocs/wordpress/wp-content/themes/bare-bones/react-src/src/templates/SinglePost.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport WithConsumer from \"../context/WithConsumer\";\r\nimport axios from \"axios\";\r\nimport Loader from \"../partials/Loader\";\r\nimport Moment from \"react-moment\";\r\n\r\nconst SinglePost = ({ index, context }) => {\r\n  const { slug } = useParams();\r\n  const [post, setPost] = useState(null);\r\n  const [authorName, setAuthorName] = useState('');\r\n  const [authorID, setAuthorID] = useState(''); // Move authorID declaration here\r\n\r\n  useEffect(() => {\r\n    const fetchPostBySlug = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost/wordpress/wp-json/wp/v2/posts?slug=${slug}`\r\n        );\r\n        const data = response.data;\r\n        if (Array.isArray(data) && data.length > 0) {\r\n          setPost(data[0]);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n    const fetchAuthorByID = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost/wordpress/wp-json/wp/v2/users?user=${authorID}`\r\n        );\r\n        const data = response.data;\r\n        if (Array.isArray(data) && data.length > 0) {\r\n          setAuthorName(data[0].name); // Update to access the author's name property\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchAuthorByID();\r\n\r\n    fetchPostBySlug();\r\n  }, [slug, authorID]);\r\n\r\n  if (!post) {\r\n    return <Loader />;\r\n  }\r\n\r\n  const { title, content, date, author } = post;\r\n  const theContent = content.rendered;\r\n\r\n  return (\r\n    <div>\r\n      <h1>{title.rendered}</h1>\r\n      <div className=\"post-meta\">\r\n        Published: <Moment format=\"MM/DD/YYYY\">{date}</Moment>,\r\n        Written by {authorName}\r\n      </div>\r\n      \r\n      <div\r\n        className=\"post-content\"\r\n        dangerouslySetInnerHTML={{ __html: theContent }}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WithConsumer(SinglePost);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}